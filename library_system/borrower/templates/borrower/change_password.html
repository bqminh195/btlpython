{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h3 class="text-center mb-4">üîë ƒê·ªïi m·∫≠t kh·∫©u</h3>
  <form method="post" class="col-md-6 offset-md-3 shadow p-4 bg-white rounded position-relative">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-warning w-100">C·∫≠p nh·∫≠t m·∫≠t kh·∫©u</button>
  </form>
  <div class="text-center mt-3">
    <a href="{% url 'borrower:profile' %}" class="btn btn-outline-secondary">Quay l·∫°i h·ªì s∆°</a>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Duy·ªát qua t·∫•t c·∫£ input c√≥ type=password
  document.querySelectorAll('input[type="password"]').forEach(function(input) {
    const wrapper = document.createElement('div');
    wrapper.style.position = 'relative';

    // ch√®n input v√†o trong wrapper
    input.parentNode.insertBefore(wrapper, input);
    wrapper.appendChild(input);

    // t·∫°o icon con m·∫Øt
    const toggle = document.createElement('i');
    toggle.className = 'bi bi-eye-slash';
    toggle.style.position = 'absolute';
    toggle.style.right = '10px';
    toggle.style.top = '50%';
    toggle.style.transform = 'translateY(-50%)';
    toggle.style.cursor = 'pointer';
    toggle.style.color = '#666';

    toggle.addEventListener('click', function() {
      if (input.type === 'password') {
        input.type = 'text';
        toggle.classList.replace('bi-eye-slash', 'bi-eye');
      } else {
        input.type = 'password';
        toggle.classList.replace('bi-eye', 'bi-eye-slash');
      }
    });

    wrapper.appendChild(toggle);
  });
});
</script>
{% endblock %}
